# Курсовая работа № 4
## «Вакансии в России»
### Заберов Дмитрий, Python IND 27.0

## Технологии
Проект разработан на ЯП Python 3.11

## Использование
Программа, которая парсит данные о вакансиях с разных платформ в России, сохраняет ее в файл и позволяет удобно работать с ней (добавлять, фильтровать, удалять данные).

## Разработка
### Требования
Для запуска проекта, необходимо запустить код из файла src/main.py.

Константы находятся в файле src/utils/constants.py.
## Особенности
Для поиска данных по регионам России с доступных сервисов загружаются словари с актуальными данными при каждом запуске приложения. Словари с регионами хранятся в файлах src/data/hh/areas/areas.json и  src/data/sj/areas/areas.json. Указанные файлы служат источниками данных при поиске id региона/населённого пункта при формировании запросов к сервисам при поиске информации о вакансиях.

С сервисов загружаются все возможные данные, сразу отфильтрованные при помощи параметров запроса, сформированного пользователем в диалоговом режиме (пользователь может указать регион или населённый пункт, в котором нужно искать информацию, выбрать все вакансии или только вакансии с указанной зарплатой, а также указать как нужно выводить полученные данные: с фильтрацией по дате (по убыванию) или по средней зарплате (по убыванию)).

Фильтрация по заработной плате осуществляется по среднему значению «зарплаты от» и «зарплаты до».

Максимальное количество данных, которые возможно загрузить с сервиса hh.ru – 2000, с сервиса superjob.ru – 500. Загруженные файлы со всеми, доступными для изучения, вакансиями хранятся в директориях src/data/hh/vakhh_00.json … vakhh_XX.json и src/data/sj/vaksj_00.json … vaksj_XX.json. Каждый раз при загрузке информации с сервисов, «старые» файлы удаляются и создаются, сохраняются новые, содержащие актуальную информацию на момент запроса (запуска приложения). В репозитории представлены примеры файлов, которых может и не быть в директориях src/data/hh/areas/, src/data/sj/areas/, src/data/hh/, src/data/sj/.

Удаление и фильтрация данных в файлах происходит во время запроса. Сортировка данных (по дате или зарплате) осуществляется в процессе вывода данных в консоль.

Пользователь практически в любой момент может прервать выполнение программы, выбрав соответствующую команду из предложенного меню.

Ключ API сервиса superjob.ru хранится в переменных окружения проекта (.env), которые недоступны в репозитории на github.
Для доступа к API сервиса hh.ru ключ не нужен.
### Установка зависимостей
Зависимости, необходимые для работы и тестирования проекта указаны в pyproject.toml.
### Тестирование
К приложению написаны необходимые тесты на pytest. Покрытие кода тестами составляет 82%, что, на мой взгляд, является достаточным. В процессе написания тестов для удобства тестирования был осуществлён рефакторинг кода. Особую сложность создало тестирование ввода данных пользователем в ходе диалогового режима работы с приложением (input()), поэтому не все участки кода удалось охватить тестами.

Для их запуска из папки tests выполните следующую команду, которая выведет данные анализа на экран:

pytest --cov=src  --cov-report=term-missing

Для вывода результатов тестирования в html-файл выполните команду:

pytest --cov=src  --cov-report=html
